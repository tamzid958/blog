$(document).ready((function(){$("#no-copy").bind("cut copy",(function(e){e.preventDefault(),e.clipboardData.setData("text/plain","Copying is not allowed on this webpage")})),$("input").on("focus",(function(){$(this).attr("autocomplete","off")})),$("#no-copy").on("click",(function(){$('[data-toggle="tooltip"]').tooltip()})),tinymce.init({selector:".admin_textarea",plugins:"advlist autolink lists link image charmap print preview hr anchor pagebreak",toolbar_mode:"floating",tinycomments_mode:"embedded",tinycomments_author:"Tamzid Ahmed"}),$("#dark_moder").on("change",(function(){var element=document.body;element.classList.toggle("bg-dark"),element.classList.toggle("text-white")})),$((function(){var txt=$("#post-slug"),func=function(){txt.val(txt.val().replace(/\s/g,"-"))};txt.keyup(func).blur(func)})),$("#author_new_pass").attr("disabled",!0),$("#author_confirm_pass").attr("disabled",!0),$("#author_new_pass").attr("required",!1),$("#author_confirm_pass").attr("required",!1),$("#author_old_pass").on("focusout",(function(){var MD5,enc_password=(new Hashes.MD5).hex($(this).val());$("#author_new_pass").attr("required",!0),$("#author_confirm_pass").attr("required",!0),$.ajax({url:"./controller/controller.php",method:"post",datatype:"json",data:{enc_password:enc_password},success:function(data){(data=$.parseJSON(data)).password!=enc_password?($("#incorrect_old_pass").html("Wrong Password"),$("#author_new_pass").attr("disabled",!0),$("#author_confirm_pass").attr("disabled",!0)):($("#incorrect_old_pass").html(""),$("#author_new_pass").attr("disabled",!1),$("#author_confirm_pass").attr("disabled",!1),$("#author_confirm_pass").on("focusout",(function(){var new_pass,confirm_pass;$("#author_new_pass").val()===$("#author_confirm_pass").val()?($("#new_pass_match").html(""),$("#author-data-save").attr("disabled",!1)):($("#new_pass_match").html("Password Not Matching"),$("#author-data-save").attr("disabled",!0))})))}})})),$("#author-img").on("change",(function(){var author_img=$("#author-img").val(),allowedExtensions;if(author_img=author_img.toLowerCase(),!/(\.jpg|\.jpeg|\.png)$/i.exec(author_img))return $("#author-img-upload").text("Invalid File Format"),$("#author-img-upload").addClass("bg-danger text-light"),$("#author-img-upload").removeClass("bg-info"),$("#author-img-upload").attr("disabled",!0),author_img="",!1;$("#author-img-upload").text("Upload"),$("#author-img-upload").removeClass("bg-danger"),$("#author-img-upload").addClass("bg-primary text-light"),$("#author-img-upload").attr("disabled",!1)})),$("#gallery-img").on("change",(function(){var author_img=$("#gallery-img").val(),allowedExtensions;if(author_img=author_img.toLowerCase(),!/(\.jpg|\.jpeg|\.png)$/i.exec(author_img))return $("#gallery-img-upload").text("Invalid File Format"),$("#gallery-img-upload").addClass("bg-danger text-light"),$("#gallery-img-upload").removeClass("bg-info"),$("#gallery-img-upload").attr("disabled",!0),author_img="",!1;$("#gallery-img-upload").text("Upload"),$("#gallery-img-upload").removeClass("bg-danger"),$("#gallery-img-upload").addClass("bg-primary text-light"),$("#gallery-img-upload").attr("disabled",!1)})),$("#author-site-logo-img").on("change",(function(){var site_logo=$("#author-site-logo-img").val(),allowedExtensions;if(site_logo=site_logo.toLowerCase(),!/(\.png)$/i.exec(site_logo))return $("#site-logo-upload").text("Invalid File Format"),$("#site-logo-upload").addClass("bg-danger text-light"),$("#site-logo-upload").removeClass("bg-info"),$("#site-logo-upload").attr("disabled",!0),site_logo="",!1;$("#site-logo-upload").text("Upload"),$("#site-logo-upload").removeClass("bg-danger"),$("#site-logo-upload").addClass("bg-primary text-light"),$("#site-logo-upload").attr("disabled",!1)})),$("#author-site-favicon").on("change",(function(){var site_logo=$("#author-site-favicon").val(),allowedExtensions;if(site_logo=site_logo.toLowerCase(),!/(\.ico)$/i.exec(site_logo))return $("#site-favicon-upload").text("Invalid File Format"),$("#site-favicon-upload").addClass("bg-danger text-light"),$("#site-favicon-upload").removeClass("bg-info"),$("#site-favicon-upload").attr("disabled",!0),site_logo="",!1;$("#site-favicon-upload").text("Upload"),$("#site-favicon-upload").removeClass("bg-danger"),$("#site-favicon-upload").addClass("bg-primary text-light"),$("#site-favicon-upload").attr("disabled",!1)})),$("#author_details_change").submit((function(e){e.preventDefault(),tinyMCE.triggerSave();var author_details_change_a=$("#author_details_change").attr("id");$("#author-data-save").html('Changing <img src="/images/logo/ajax-loader.gif" id="ajax-loader" />');var site_name=$("#author_site_name").val(),author_name=$("#author_name").val(),author_tel=$("#author_tel").val(),author_email=$("#author_email").val(),author_confirm=$("#author_confirm_pass").val(),author_bio=$("#auther-bio").val(),author_adsense_code=$("#adsense-code").val();$.ajax({url:"./controller/controller.php",method:"post",datatype:"json",data:{author_details_change_a:author_details_change_a,site_name:site_name,author_name:author_name,author_tel:author_tel,author_email:author_email,author_confirm:author_confirm,author_bio:author_bio,author_adsense_code:author_adsense_code},success:function(data){setTimeout((function(){$("#author-data-save").html("Details Changed")}),1e3),setTimeout((function(){$("#author-data-save").html("Save Changes")}),2e3)}})})),$(".category-del-btn").click((function(){var category_del_id=$(this).attr("id");$.ajax({url:"./controller/controller.php",method:"post",data:{category_del_id:category_del_id},success:function(data){return location.reload(),!1}})})),$(".category-edit-btn").click((function(){var category_edit_id=$(this).attr("id");$.ajax({url:"./controller/controller.php",method:"post",data:{category_edit_id:category_edit_id},success:function(data){data=$.parseJSON(data),$("#category-name-label").html(data[0].category_name),$("#category-id-h-input").val(data[0].category_id),$("#edit_category_name").val(data[0].category_name),$("#editcatgory").modal()}})})),setInterval((function(){null==$("#edit_category_name").val()||""==$("#edit_category_name").val()?$("#edit_category_btn_modal").attr("disabled",!0):$("#edit_category_btn_modal").attr("disabled",!1)}),200),$("#edit_category_btn_modal").click((function(){var category_update_id=$("#category-id-h-input").val(),category_update_name=$("#edit_category_name").val();$("#edit_category_btn_modal").html('Changing <img src="/images/logo/ajax-loader.gif" id="ajax-loader width="15" height="15"" />'),$.ajax({url:"./controller/controller.php",method:"post",data:{category_update_id:category_update_id,category_update_name:category_update_name},success:function(data){setTimeout((function(){return $(".close").click(),$("#edit_category_btn_modal").html("Save changes"),location.reload(),!1}),2e3)}})})),setInterval((function(){null==$("#category_name").val()||""==$("#category_name").val()?$("#add_new_category").attr("disabled",!0):$("#add_new_category").attr("disabled",!1)}),200),$("#add_new_category").click((function(){$("#add_new_category").html('Creating <img src="/images/logo/ajax-loader.gif" id="ajax-loader width="15" height="15"" />');var new_category_name=$("#category_name").val();$.ajax({url:"./controller/controller.php",method:"post",data:{new_category_name:new_category_name},success:function(data){setTimeout((function(){$("#add_new_category").html("Created")}),1e3),setTimeout((function(){return $("#add_new_category").html("Create"),location.reload(),!1}),2e3)}})})),$("#post-featured-img-edit").on("change",(function(){var img=$("#post-featured-img-edit").val(),allowedExtensions;if(img=img.toLowerCase(),!/(\.jpg|\.jpeg|\.png)$/i.exec(img))return $("#edit_post_btn_e").text("Invalid File Format"),$("#edit_post_btn_e").addClass("bg-danger text-light"),$("#edit_post_btn_e").removeClass("bg-info"),$("#edit_post_btn_e").attr("disabled",!0),img="",!1;$("#edit_post_btn_e").text("Upload"),$("#edit_post_btn_e").removeClass("bg-danger"),$("#edit_post_btn_e").addClass("bg-primary text-light"),$("#edit_post_btn_e").attr("disabled",!1)})),$("#edit_post_btn_e").hover((function(){tinyMCE.triggerSave()})),$("#add_new_post").hover((function(){tinyMCE.triggerSave()})),$(".del-post-btn").click((function(e){var post_id_del=$(this).attr("id");e.preventDefault(),$.ajax({url:"./controller/controller.php",method:"post",data:{post_id_del:post_id_del},success:function(data){return location.reload(),!1}})})),$(".edit-tmail").click((function(){var tmail_id=$(this).attr("id");$.ajax({url:"./controller/controller.php",method:"post",datatype:"json",data:{tmail_id:tmail_id},success:function(data){data=$.parseJSON(data),$("#tmailer-modal-head").html(data.email),$("#edit_mail_id").val(data.id),$("#edit_email").val(data.email),$("#editmail").modal()}})})),setInterval((function(){null==$("#edit_email").val()||""==$("#edit_email").val()?$("#edit-tmail-btn-modal").attr("disabled",!0):$("#edit-tmail-btn-modal").attr("disabled",!1)}),200),$("#edit-tmail-btn-modal").click((function(){var edit_mail_id=$("#edit_mail_id").val(),edit_email=$("#edit_email").val();$("#edit-tmail-btn-modal").html('Changing <img src="/images/logo/ajax-loader.gif" id="ajax-loader width="15" height="15"" />'),$.ajax({url:"./controller/controller.php",method:"post",data:{edit_mail_id:edit_mail_id,edit_email:edit_email},success:function(data){setTimeout((function(){return $(".close").click(),$("#edit-tmail-btn-modal").html("Save changes"),location.reload(),!1}),2e3)}})})),$(".delete-tmail").click((function(){var delete_tmail=$(this).attr("id");$.ajax({url:"./controller/controller.php",method:"post",data:{delete_tmail:delete_tmail},success:function(data){return location.reload(),!1}})})),$("#add_new-mail-btn").click((function(){$("#add_new-mail-btn").html('Creating <img src="/images/logo/ajax-loader.gif" id="ajax-loader width="15" height="15"" />');var addnew_mail=$("#addnew-mail").val();$.ajax({url:"./controller/controller.php",method:"post",data:{addnew_mail:addnew_mail},success:function(data){setTimeout((function(){$("#add_new-mail-btn").html("Created")}),1e3),setTimeout((function(){return $("#add_new-mail-btn").html("Create"),location.reload(),!1}),2e3)}})})),setInterval((function(){null==$("#addnew-mail").val()||""==$("#addnew-mail").val()?$("#add_new-mail-btn").attr("disabled",!0):$("#add_new-mail-btn").attr("disabled",!1)}),200),setInterval((function(){null==$("#comment_body").val()||""==$("#comment_body").val()?$("#add_new_comment").attr("disabled",!0):$("#add_new_comment").attr("disabled",!1)}),200),$("#add_new_comment").on("click",(function(){$("#add_new_comment").html('Creating <img src="/images/logo/ajax-loader.gif" id="ajax-loader width="15" height="15"" />');var commenter=$("#commenter_name").val(),new_comment_body=$("#comment_body").val(),post_id_cmnt=$("#post_id_cmnt").val(),post_mail_cmnt=$("#post_mail_cmnt").val();$.ajax({url:"./controller/controller.php",method:"post",data:{post_id_cmnt:post_id_cmnt,commenter:commenter,new_comment_body:new_comment_body,post_mail_cmnt:post_mail_cmnt},success:function(data){setTimeout((function(){$("#add_new_comment").html("Created")}),1e3),setTimeout((function(){return $("#add_new_comment").html("Create"),location.reload(),!1}),2e3)}})})),$(".comment-del-btn").click((function(){var comment_del_id=$(this).attr("id");$.ajax({url:"./controller/controller.php",method:"post",data:{comment_del_id:comment_del_id},success:function(data){return location.reload(),!1}})})),$("#search-post").on("keyup",(function(){var filter=$("#search-post").val().toLowerCase(),nodes=document.getElementsByClassName("search-div");for(i=0;i<nodes.length;i++)nodes[i].innerText.toLowerCase().includes(filter)?nodes[i].style.display="block":nodes[i].style.display="none"})),$("#search-mail").on("keyup",(function(){var input,filter,table,tr,td,i,txtValue;for(filter=(input=document.getElementById("search-mail")).value.toUpperCase(),tr=(table=document.getElementById("t-table")).getElementsByTagName("tr"),i=0;i<tr.length;i++)(td=tr[i].getElementsByTagName("td")[0])&&((txtValue=td.textContent||td.innerText).toUpperCase().indexOf(filter)>-1?tr[i].style.display="":tr[i].style.display="none")})),$("#subscribe_btn").on("click",(function(){var mailformat=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,sub_mail=$("#subscribe").val();sub_mail.match(mailformat)?($("#alert-mail").html(""),$("#subscribe_btn").html('Subscribing <img src="/images/logo/ajax-loader.gif" id="ajax-loader width="15" height="15"" />'),$.ajax({url:"./controller/controller.php",method:"post",data:{sub_mail:sub_mail},success:function(data){setTimeout((function(){$("#subscribe_btn").html("Subscribed")}),1e3),setTimeout((function(){return $("#subscribe_btn").html("Subscribe"),!1}),2e3)}})):$("#alert-mail").html("INSERT MAIL AT FIRST")})),$("#direct_upload_input_div").attr("hidden",!0),$("#direct_upload_input").attr("required",!1),$("#post-featured-img-gallery").attr("hidden",!0),$("#post-featured-img-gallery").attr("required",!1),$("#post-featured-img-gallery").val(null),$("#post-featured-img").val(null),$("#gallery_upload").click((function(){$("#direct_upload_input_div").attr("hidden",!0),$("#direct_upload_input").attr("required",!1),$("#post-featured-img-gallery").attr("hidden",!1),$("#post-featured-img-gallery").attr("required",!0),$("#post-featured-img-gallery").val(null),$("#post-featured-img").val(null)})),$(".choose-img").on("click",(function(){var choose_img=$(this).attr("id");$("#post-featured-img-gallery").val(choose_img),$("#gallerytab").modal("hide")})),$("#direct_upload").click((function(){$("#direct_upload_input_div").attr("hidden",!1),$("#direct_upload_input").attr("required",!0),$("#post-featured-img-gallery").attr("hidden",!0),$("#post-featured-img-gallery").attr("required",!1),$("#post-featured-img-gallery").val(null)}))}));